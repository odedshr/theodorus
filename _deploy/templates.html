<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Templates</title>
</head>
<body>

  <template data-id="topicList">
      <ul class="list topic-list" data-msg-empty="{{#label.noTopics}}">{{topic@topics}}<li id="topic-{{id}}" class="js-item topic" data-type="topic" data-id="{{id}}">{{.:topicListItem}}</li>{{/topic@topics}}</ul>
  </template>

  <template data-id="topicListItem">
      <img class="author-image" src="{{author.image}}" title="{{author.name}}" alt="{{author.name}}"/>
      <div class="next-to-author-image">
          <div class="content">{{content}}</div>
          <div class="details">
              <div class="detail author-name">{{author.name}}</div>
              <div class="detail time" title="{{time}}">{{relativeTime}}</div>
              {{?hasHistory}}<div class="detail" data-ico="history"></div>{{/hasHistory}}
          </div>
      </div>
      <div class="attributes">
          <div class="attribute opinion-count" data-ico="heart-empty" data-register="toggle" data-target="topic-{{id}}-opinions"><span id="topic_{{id}}_opinion_count" class="value" data-role="opinion-count">{{opinions}}</span> opinions</div>
          <div class="attribute endorse-count" data-ico="comment-empty"><span id="topic_{{id}}_endorse_count" class="value">{{endorse}}</span> endorsements</div>
          <div class="attribute follow-count" data-ico="bookmark-empty"><span id="topic_{{id}}_follow_count" class="value">{{follow}}</span> followers</div>
          <div class="attribute">Seen by <span id="topic_{{id}}_read_count" class="value"></div>
          <div class="attribute"><span id="topic_{{id}}_report_count" class="value"> reports</div>
      </div>
      {{?isMember}}<div class="actions">
        <div class="action action-opinion"><span data-ico="comment-empty">{{#action.opinion}}</span></div>
        <div class="action action-endorse" data-register="endorse" data-value="{{isEndorsed}}"><span data-ico="heart-empty">{{#action.endorse}}</span></div>
        <div class="action action-follow"><span data-ico="bookmark-empty">{{#action.follow}}</span></div>
        <div class="action action-read"><span data-ico="unread">{{#action.markAsRead}}</span></div>
        <div class="action action-report"><span data-ico="frown-o">{{#action.report}}</span></div>
        <div class="action action-edit"><span data-ico="pencil">{{#action.edit}}</span></div>
        {{?isArchivable}}<div class="action action-archive" data-register="archive" data-type="topic" data-id="{{id}}"><span data-ico="trash-empty">{{#action.remove}}</span></div>{{/isArchivable}}
      </div>{{/isMember}}
      <div id="topic-{{id}}-opinions" class="opinions js-list" data-role="opinions" data-topic-id="{{id}}" data-on-toggle="opinionList" data-hidden="true"></div>
  </template>

  <template data-id="frmAddTopic">
      <form class="add-topic-form" data-register="frmAddTopic" class="form add form-topic-add">
          <div class="row-topic-content">
              <label for="topicContent" class="required"></label><input type="text" class="field-topic-content" name="topicContent" id="topicContent" required="required" placeholder="{{#placeholder.addTopic}}"/>
          </div>
          <div class="row-buttons">
              <button data-ico="add" title="{{#btn.ok}}" class="button add"><span>{{#btn.ok}}</span></button>
          </div>
      </form>
  </template>

  <template data-id="communityTopicAddPage">
      <div class="community-header">
          <h2 class="community-name">{{communityName}}</h2>
      </div>
      {{.:frmAddTopic}}
      <button data-register="btnCancel" >{{#btn.cancel}}</button>
  </template>

  <template data-id="topicAddPage">
      {{.:addTopic}}
  </template>

  <template data-id="opinionList">
      <ul class="list opinion-list" data-msg-empty="{{#label.noOpinions}}">{{opinion@opinions}}<li id="opinion-{{id}}" class="js-item opinion" data-type="opinion" data-id="{{id}}">{{.:opinionListItem}}</li>{{/opinion@opinions}}</ul>
  </template>

  <template data-id="opinionListItem">
      <img class="author-image" src="{{author.image}}" title="{{author.name}}" />
      <div class="next-to-author-image">
          {{?isMine}}<form data-register="frmSetOpinion">
          <input type="hidden" name="id" value="{{id}}" />
          <input type="hidden" name="topicId" value="{{topicId}}" />
          <input type="text" class="field-opinion-content js-opinion-content" name="content" required="required" placeholder="{{#placeholder.addOpinion}}" value="{{content}}"/>
          <button data-ico="ok" title="{{#btn.ok}}" class="button ok"><span>{{#btn.ok}}</span></button>
      </form>{{/isMine}}
          {{?!isMine}}<div class="content">{{content}}</div>{{/isMine}}
          {{?includeAttributes}}
          <div class="info attributes">
              <div class="attribute author-name">{{author.name}}</div>
              <div class="attribute time" title="{{time}}">{{relativeTime}}</div>
              {{?hasHistory}}<div class="attribute" data-ico="history"></div>{{/hasHistory}}
              {{?isArchivable}}<div class="attribute" data-ico="trash-empty" data-register="archive" data-type="opinion" data-id="{{id}}"></div>{{/isArchivable}}
          </div>
          <div class="stats attributes">
              <div class="attribute opinion-count" data-ico="heart-empty" data-register="toggle" data-target="opinion-{{id}}-comments"><span id="opinion_{{id}}_comment_count" class="value" data-role="comment-count">{{comments}}</span> comments</div>
              <div class="attribute endorse-count" data-ico="comment-empty"><span id="topic_{{id}}_endorse_count" class="value">{{endorse}}</span> endorsements</div>
              <div class="attribute follow-count" data-ico="bookmark-empty"><span id="topic_{{id}}_follow_count" class="value">{{follow}}</span> followers</div>
          </div>
          {{/includeAttributes}}
      </div>
      <div id="opinion-{{id}}-comments" class="comments js-list" data-role="comments" data-opinion-id="{{id}}" data-on-toggle="commentList" data-hidden="true"></div>
  </template>

  <template data-id="header">
      <header class="header">
          <a href="/" id="btnHome" class="app-logo">
              <h1 class="app-title">{{#app.title}}</h1>
              <div class="app-quick-description">because opinions matter</div>
          </a>
          {{?!showUserDetailsInHeader}}
          <nav class="header-navigation">
              <a href="#communities" class="nav-link link-communities" title="{{#link.communities}}" data-ico="community"><span>{{#link.communities}}</span></a>
              <a href="#signup" class="nav-link link-sign-up" title="{{#link.signUp}}" data-ico="sign-up"><span>{{#link.signUp}}</span></a>
              <a href="#signin" class="nav-link link-sign-in" title="{{#link.signIn}}" data-ico="sign-in"><span></span></a>
              <a href="#feedback" class="nav-link link-report-bug" title="{{#link.reportBug}}" data-ico="bug" data-register="reportBug"><span>{{#link.reportBug}}</span></a>
          </nav>
          {{/showUserDetailsInHeader}}
          {{?showUserDetailsInHeader}}
          <nav class="header-navigation">
              <a href="#communities" class="nav-link link-communities" title="{{#link.communities}}" data-ico="community"><span>{{#link.communities}}</span></a>
              <a href="#messages" class="nav-link link-messages" title="{{#link.messages}}" data-ico="message"><span>{{#link.messages}}</span></a>
              <a href="#me" class="nav-link link-me" title="{{#link.me}}" data-ico="user"><span>{{#link.me}}</span></a>
              <a href="#feedback" class="nav-link link-report-bug" title="{{#link.reportBug}}" data-ico="bug" data-register="reportBug"><span>{{#link.reportBug}}</span></a>
          </nav>
          {{/showUserDetailsInHeader}}
      </header>
      <div id="notifications" class="notifications"></div>
  </template>

  <template data-id="welcomePage">
      <aside class="visitors-info-what-is">
          <h2>What is {{#app.title}} ?</h2>
          <div>lorem ipsum...</div>
      </aside>

      <article class="newsfeed">
          <ul>
              <li>A list of 'best' topics from all public communities</li>
          </ul>
      </article>

      <aside class="visitor-options">
          <div class="sign-in">
              <h2>Sign in and speak up!</h2>
              {{.:'signIn'}}
          </div>
          <div class="sign-up">
              <h2>Sign up and join the conversation</h2>
              {{.:'signUp'}}
          </div>
      </aside>
  </template>

  <template data-id="signinPage">
      <div class="dialog">
      <div class="dialog-title">{{#title.signIn}}</div>
      {{.:'signIn'}}
      </div>
  </template>

  <template data-id="signIn">
      <form class="sign-in-form" data-register="frmSignIn">
          <div class="dialog-content">
              <div>
                  <label for="signInEmail">Email</label><input type="email" id="signInEmail" name="email"/>
              </div>
              <div>
                  <label for="signInPassword">Password</label><input type="password" id="signInPassword" name="password"/>
                  <i title="Show password">E</i>
              </div>
          </div>
          <div class="dialog-buttons">
              <button>Sign In</button>
          </div>
      </form>
  </template>

  <template data-id="signupPage">
      <div class="dialog">
          <div class="dialog-title">{{#title.signUp}}</div>
          {{.:'signUp'}}
      </div>
  </template>

  <template data-id="signUp">
      <form class="sign-up-form" data-register="frmSignUp">
          <div class="dialog-content">
              <div>
                  <label for="signUpEmail">Email</label><input type="email" name="email" id="signUpEmail" />
              </div>
              <div>
                  <label for="signUpPassword">Password</label><input type="password" name="password" id="signUpPassword" />
              </div>
              <div>
                  <label for="signUpRetypePassword">Retype Password</label><input type="password" name="retypePassword" id="signUpRetypePassword" />
              </div>
              <div>
                  By clicking the sign up, you agree to the terms of use.
              </div>
          </div>
          <div class="dialog-buttons">
              <button>Sign Up</button>
          </div>
      </form>
  </template>

  <template data-id="appContainer">
      {{.:'header'}}
      <div id="pageContainer" class="pageContainer" data-register="{{pageTemplate}}">
          {{.:'loading'}}
      </div>
      <div class="error-screen-too-small">{{#error.screenTooSmall}}</div>
  </template>


  <template data-id="loading">
      <div class="loading">
          <i data-ico="spinner"></i>
          <span class="title">{{#label.loading}}</span>
      </div>
  </template>

  <template data-id="homePage">
      <article>
          <h2>my topics</h2>
      </article>
      <article>
          <h2>topics from my communities</h2>
      </article>
      <article>
          <h2>other topics</h2>
      </article>
      <aside>
          <h2>My communities</h2>
      </aside>
  </template>

  <template data-id="frmSearch">
      <form class="search" data-register="frmSearch">
          <input type="text" placeholder="{{#label.search}}" id="stringSearch" name="stringSearch" class="stringSearch"/>
          <a href="#" data-ico="search" title="{{#label.search}}"><span>{{#label.search}}</span></a>
      </form>
  </template>

  <template data-id="messagesPage">
      message
  </template>

  <template data-id="mePage">
      me
      <a href="/" data-register="btnSignOut" title="{{#link.signOut}}"><span>{{#link.signOut}}</span></a>
  </template>

  <template data-id="feedbackPage">
      <form class="form form-feedback" data-register="frmSendFeedback">
          <input type="hidden" id="url" name="url" />

          <h1 class="form-title title-feedback">{{#title.reportABug}}</h1>
          <div>
              <label for="content"></label>
              <textarea id="content" name="content" placeholder="{{#placeholder.feedback}}" class="feedback-content" required="required"></textarea>
          </div>
          <div id="screenshotRow" data-hidden="true">
              <img id="screenshotSample" class="feedbackScreenshot" src="" />
              <input type="checkbox" id="feedbackIncludesScreenshot" name="feedbackIncludesScreenshot" value="true"/>
              <label for="feedbackIncludesScreenshot">{{#label.includeScreenshot}}</label>
              <input type="hidden" id="image" name="image" />
          </div>
          <div class="button-bar">
              <button id="feedbackSend">{{#btn.ok}}</button>
          </div>
      </form>
  </template>

  <template data-id="notifySuccessFeedbackSent">
      <div id="feedbackSent" class="notification system success">
          <span class="message">{{#notify.feedbackSent}}</span>
          <a href="#" data-register="closeNotification" data-ico="cancel" title="{{#label.close}}"></a>
      </div>
  </template>

  <template data-id="notFoundPage">
      <article>
          <h2>404 page not found</h2>
          <form id="frmPageNotFound">
              <label for="pageNotFoundURL">I tried to access</label>
              <input type="text" id="pageNotFoundURL" name="pageNotFoundURL" disabled="disabled">
              <label for="pageNotFoundDescription">because I expect to find</label>
              <textarea id="pageNotFoundDescription" name="pageNotFoundDescription"></textarea>
              <button>{{#btn.ok}}</button>
          </form>
      </article>
  </template>

  <template data-id="errorPage">
      <article>
          <h2>Argh! Something went wrong!</h2>
          <div>{{errorMessage}}</div>
      </article>
  </template>

  <template data-id="notifyErrorConnection">
      <div id="connectionError" class="notification system error">
          <span class="message">{{#error.noConnection}}</span>
          <a href="#" data-register="ping" title="{{#label.reconnect}}"><span>{{#label.reconnect}}</span></a>
      </div>
  </template>

  <template data-id="communitiesPage">
      <div class="page-header">
          {{?isAuthenticated}}
          <a href="#community/add" data-ico="add" class="button add"><span>{{#btn.add}}</span></i></a>
          {{/isAuthenticated}}
          {{.:'frmSearch'}}
      </div>
      <div data-register="communityList" class="community-list"></div>
  </template>

  <template data-id="communityList">
      <ul class="list community-list" data-msg-empty="{{#label.noCommunities}}">{{community@communities}}<li class="community">{{.:'communityListItem'}}</li>{{/community@communities}}</ul>
  </template>

  <template data-id="communityListItem">
      <a href="#community:{{id}}" class="link-community">
          <div class="name">{{name}}</div>
          <div class="statistics">
              <div class="stat"><span class="value">{{topics}}</span><span class="label">{{#label.topics}}</span></div>
              <div class="stat"><span class="value">{{members}} </span><span class="label">{{#label.members}}</span></div>
          </div>
      </a>
  </template>

  <template data-id="communityPage">
      <div class="page-header community-header">
          <h2 class="community-name">{{communityName}}</h2>
          {{?isMember}}
          <div class="member-name">{{memberName}}<span class="email">{{email}}</span></div>
          <div class="community-actions">
              <div tabindex="1" class="community-actions drop-down">
                  <div class="drop-down-title" data-ico="cog"><span>{{#btn.settings}}</span></div>
                  <div class="community-actions-content drop-down-content">
                      <a class="action" href="#community:{{communityId}}/settings" data-ico="cog"><span>{{#btn.settings}}</span></a>
                      <a class="action" href="#community:{{communityId}}/quit" data-register="btnLeave" data-ico="sign-out"><span>{{#btn.quit}}</span></a>
                  </div>
              </div>
          </div>
          {{/isMember}}
          {{?!isMember}}
          <a class="link-community-join" href="#community:{{communityId}}/join"><span>{{#btn.join}}</span></i><span class="email">{{email}}</span><i data-ico="sign-up"></i></a>
          {{/isMember}}
      </div>
      {{?isMember}}
      <div class="page-header">
          {{.:'frmAddTopic'}}
      </div>
      {{/isMember}}
      <div id="communityTopics" data-register="topicList" class="community-topics-list js-list"></div>
  </template>

  <template data-id="communityJoinPage">
      <div class="community-header">
          <h2 class="community-name">{{communityName}}</h2>
      </div>
      {{?isAuthenticated}}
      <form class="join-community-form" data-register="frmJoinCommunity">
        <div class="field-memberName">
          <label for="memberName" class="required">{{#label.communityJoinMemberName}}</label>
          <input type="text" id="memberName" name="name" data-register="uniqueMemberName" required="required" maxlength="100" placeholder="{{#placeholder.memberName}}" value="{{memberName}}" />
          <div id="memberNameErrors" class="field-message"></div>
        </div>
        <div>
            <button>{{#btn.ok}}</button>
            <button data-register="btnCancel" >{{#btn.cancel}}</button>
        </div>
      </form>
      {{/isAuthenticated}}
      {{?!isAuthenticated}}
      <div class="dialog">
          <div class="dialog-title">{{#label.youMustSignUpInToJoin}}</div>
          <div class="dialog-buttons">
              <a class="button" href="#signup">{{#link.signUp}}</a>
              <a class="button" href="#signin">{{#link.signIn}}</a>
              <a class="button" data-register="btnCancel">{{#btn.cancel}}</a>
          </div>
      </div>
      {{/isAuthenticated}}
  </template>

  <template data-id="communityAddPage">
    <form class="add-community-form" data-register="frmAddCommunity">
        <div>
            <label for="communityName" class="required">{{#label.communityAddName}}</label>
            <input type="text" id="communityName" name="name" data-register="uniqueCommunityName" required="required" maxlength="100" placeholder="{{#placeholder.communityName}}"/>
            <div id="communityNameErrors" class="field-message"></div>
        </div>
        <div>
            <label for="communityDescription" class="required">{{#label.communityAddDescription}}</label>
            <input type="text" id="communityDescription" name="description" placeholder="{{#placeholder.communityDescription}}"/>
        </div>
        <div>
            <label for="founderName" class="required">{{#label.communityAddFounderName}}</label>
            <input type="text" id="founderName" name="founderName" required="required" maxlength="100" placeholder="{{#placeholder.communityAddFounderName}}" value="{{founderName}}"/>
        </div>
        <div>
            <button>{{#btn.ok}}</button>
            <button data-register="btnCancel" >{{#btn.cancel}}</button>
        </div>
    </form>
  </template>

  <template data-id="communitySettingsPage">
      <div class="community-header">
          <h2 class="community-name">{{communityName}}</h2>
          <div class="member-name">{{memberName}}<span class="email">{{email}}</span></div>
      </div>
      <form class="membership-settings-form" data-register="frmMembershipSettings">
        <img src="{{profileImage}}" id="profileImagePreview" data-register="imageUpload"/>
        <div class="field-memberName">
          <label for="memberName" class="required">{{#label.communityJoinMemberName}}</label>
          <input type="text" id="memberName" name="name" data-register="uniqueMemberName" required="required" maxlength="100" placeholder="{{#placeholder.memberName}}" value="{{memberName}}" />
          <div id="memberNameErrors" class="field-message"></div>
        </div>
        <div class="button">
          <button><span>{{#btn.ok}}</span></button>
        </div>
      </form>
  </template>

  <template data-id="commentList">
      {{.:'frmSetComment'}}
      <ul class="list comment-list" data-msg-empty="{{#label.noComments}}">{{comment@comments}}<li id="comment-{{id}}" class="js-item comment" data-type="comment" data-id="{{id}}">{{.:commentListItem}}</li>{{/comment@comments}}</ul>
  </template>

  <template data-id="commentListItem">
      <img class="author-image" src="{{author.image}}" title="{{author.name}}" />
      <div class="next-to-author-image">
          {{?isEditable}}{{.:'frmSetComment'}}{{/isEditable}}
          {{?!isEditable}}<div class="content">{{content}}</div>{{/isEditable}}
          <div class="info attributes">
              <div class="attribute author-name">{{author.name}}</div>
              <div class="attribute time" title="{{time}}">{{relativeTime}}</div>
              {{?hasHistory}}<div class="attribute" data-ico="history"></div>{{/hasHistory}}
              {{?isEditable}}<div class="attribute" data-ico="trash-empty" data-register="archive" data-type="comment" data-id="{{id}}"></div>{{/isEditable}}
          </div>
          <div class="stats attributes">
              <div class="attribute comment-count" data-ico="heart-empty" data-register="toggle" data-target="comment-{{id}}-comments"><span id="opinion_{{id}}_comment_count" class="value" data-role="comment-count">{{comments}}</span> comments</div>
              <div class="attribute endorse-count" data-ico="comment-empty"><span id="topic_{{id}}_endorse_count" class="value">{{endorse}}</span> endorsements</div>
              <div class="attribute follow-count" data-ico="bookmark-empty"><span id="topic_{{id}}_follow_count" class="value">{{follow}}</span> followers</div>
          </div>
      </div>
      <div id="comment-{{id}}-comments" class="comments js-list" data-role="comments" data-comment-id="{{id}}" data-on-toggle="commentList" data-hidden="true"></div>
  </template>

  <template data-id="frmSetComment">
      <form class="form set add-comment-form" data-register="frmSetComment">
          <input type="hidden" name="id" value="{{id}}"/>
          <input type="hidden" name="opinionId" value="{{opinionId}}"/>
          <input type="hidden" name="parentId" value="{{parentId}}"/>
          <input type="text" class="field-comment-content" name="content" id="commentContent" required="required" placeholder="{{#placeholder.addComment}}" value="{{content}}"/>
          <button data-ico="ok" title="{{#btn.ok}}" class="button add"><span>{{#btn.ok}}</span></button>
      </form>
  </template>

</body>
</html>