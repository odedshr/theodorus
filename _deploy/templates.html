<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Templates</title>
</head>
<body>

<ul>
    <li data-template="topicList">
        <ul>
            {{topic@topics}}<li class="topic">{{.:topicListItemTemplate}}</li>{{/topic@topics}}
        </ul>
    </li>

    <li data-template="topicListItem">
        <a href="#topic:{{id}}">{{name}}</a>
    </li>
</ul>

<ul>
    <li data-template="opinionList">
        {{?!hasMyOpinion}}{{opinionMeta:frmMyNewOpinion}}{{/hasMyOpinion}}
        <ul>
            {{opinion@opinions}}<li id="opinion_{{id}}" class="opinion">{{.:opinionListItem}}</li>{{/opinion@opinions}}
        </ul>
    </li>

    <li data-template="opinionListItem">
        <div class="opinion-content" data-type="opinion" data-id="{{id}}">
            <div class="author-image" data-ico="me"></div>
            <div class="next-to-author-image">
                {{?mine}}{{.:frmMyOpinion}}{{/mine}}
                {{?!mine}}<div class="content">{{content}}</div>{{/mine}}
                <div class="info attributes">
                    <div class="attribute author-name">{{author.name}}</div>
                    <div class="attribute time" title="{{time}}">{{relativeTime}}</div>
                    <div class="attribute" data-ico="history"></div>
                    {{?isArchivable}}<div class="attribute" data-ico="trash-empty" data-register="archive"></div>{{/isArchivable}}
                </div>
                <div class="stats attributes">
                    <div class="attribute comment-count" data-ico="comment-empty" data-register="tglComment"><span id="opinion_{{id}}_comment_count" class="value" data-role="comment-count">{{comments}}</span> comments</div>
                    <div class="attribute endorse-count" data-ico="heart-empty"><span id="opinion_{{id}}_endorse_count" class="value">{{endorse}}</span> endorsements</div>
                </div>
            </div>
            <div id="opinion_{{id}}_comments_list" class="comments" data-role="comments" data-hidden="true"></div>
        </div>
    </li>

    <li data-template="frmMyNewOpinion">
        <div class="opinion-content" data-type="opinion">
            <div class="author-image" data-ico="me"></div>
            <div class="next-to-author-image">
                {{.:frmMyOpinion}}
            </div>
        </div>
    </li>

    <li data-template="frmMyOpinion">
        <form class="add-opinion-form" data-register="frmAddOpinion">
            <input type="hidden" name="opinionTopicId" id="opinionTopicId" value="{{topicId}}" />
            <input type="text" name="opinionContent" id="opinionContent" required="required" value="{{content}}" class="content"/>
            <button data-register="btnAddSubmit" data-ico="ok"><span>{{#btn.ok}}</span></button>
        </form>
    </li>
</ul>

<ul>
    <li data-template="header">
        <header class="header">
            <a href="/" id="btnHome" class="app-logo">
                <h1 class="app-title">{{#app.title}}</h1>
                <div class="app-quick-description">because opinions matter</div>
            </a>
            {{?!showUserDetailsInHeader}}
            <nav class="header-navigation">
                <a href="#communities" class="nav-link link-communities" title="{{#link.communities}}"><span>{{#link.communities}}</span></a>
                <a href="#signup" class="nav-link link-sign-up" title="{{#link.signUp}}"><span>{{#link.signUp}}</span></a>
                <a href="#signin" class="nav-link link-sign-in" title="{{#link.signIn}}"><span></span></a>
                <a href="#bug" class="nav-link link-report-bug" title=""><span>{{#link.reportBug}}</span></a>
            </nav>
            {{/showUserDetailsInHeader}}
            {{?showUserDetailsInHeader}}
            <nav class="header-navigation">
                <a href="#communities" class="nav-link link-communities" title="{{#link.communities}}"><span>{{#link.communities}}</span></a>
                <a href="#messages" class="nav-link link-messages" title="{{#link.messages}}"><span>{{#link.messages}}</span></a>
                <a href="#me" class="nav-link link-me" title="{{#link.me}}"><span>{{#link.me}}</span></a>
                <a href="#bug" class="nav-link link-report-bug" title="{{#link.reportBug}}"><span>{{#link.reportBug}}</span></a>
            </nav>
            {{/showUserDetailsInHeader}}
        </header>
    </li>

    <li data-template="welcomePage">
        <aside class="visitors-info-what-is">
            <h2>What is {{#app.title}} ?</h2>
            <div>lorem ipsum...</div>
        </aside>

        <article class="newsfeed">
            <ul>
                <li>A list of 'best' topics from all public communities</li>
            </ul>
        </article>

        <aside class="visitor-options">
            <div class="sign-in">
                <h2>Sign in and speak up!</h2>
                {{.:'signIn'}}
            </div>
            <div class="sign-up">
                <h2>Sign up and join the conversation</h2>
                {{.:'signUp'}}
            </div>
        </aside>
    </li>

    <li data-template="signinPage">
        {{.:'signIn'}}
    </li>

    <li data-template="signIn">
        <form class="sign-in-form" data-register="frmSignIn">
            <div>
                <label for="signInEmail">Email</label><input type="email" id="signInEmail" name="signInEmail"/>
            </div>
            <div>
                <label for="signInPassword">Password</label><input type="password" id="signInPassword" name="signInPassword"/>
                <i title="Show password">E</i>
            </div>
            <div>
                <button data-register="btnSignIn">Sign In</button>
            </div>
        </form>
    </li>

    <li data-template="signupPage">
        {{.:'signUp'}}
    </li>

    <li data-template="signUp">
        <form class="sign-up-form" data-register="frmSignUp">
            <div>
                <label for="signUpEmail">Email</label><input type="email" id="signUpEmail" name="signUpEmail"/>
            </div>
            <div>
                <label for="signUpPassword">Password</label><input type="password" id="signUpPassword" name="signUpPassword"/>
                <i title="Show password">E</i>
            </div>
            <div>
                <label for="signUpRetypePassword">Retype Password</label><input type="password" id="signUpRetypePassword" name="signUpRetypePassword"/>
                <i title="Show password">E</i>
            </div>
            <div>
                By clicking the sign up, you agree to the terms of use.
            </div>
            <div>
                <button data-register="btnSignUp">Sign Up</button>
            </div>
        </form>
    </li>

    <li data-template="application">
        {{.:'header'}}
        <div id="pageContainer">
            {{.:'loading'}}
        </div>
    </li>


    <li data-template="loading">
        <div class="loading">
            {{#label.loading}}
        </div>
    </li>

    <li data-template="homePage">
        <article>
            <h2>my topics</h2>
        </article>
        <article>
            <h2>topics from my communities</h2>
        </article>
        <article>
            <h2>other topics</h2>
        </article>
        <aside>
            <h2>My communities</h2>
        </aside>
    </li>

    <li data-template="frmSearch">
        <form class="search" data-register="frmSearch">
            <input type="text" placeholder="{{#label.search}}"/>
            <button><i class="icon icon-search"></i><span>{{{{#label.search}}}}</span></button>
        </form>
    </li>

    <li data-template="topicAddPage">
        {{.:addTopic}}
    </li>

    <li data-template="messagesPage">
        message
    </li>

    <li data-template="mePage">
        me
        <a href="/" data-register="btnSignOut" title="{{#link.signOut}}"><span>{{#link.signOut}}</span></a>
    </li>

    <li data-template="bugPage">
        bug
    </li>

    <li data-template="addTopic">
        <form class="add-community-form" data-register="frmAddTopic">
            <div>
                <button data-register="btnAddTopic">{{#btn.ok}}</button>
                <button data-register="btnCancel">{{#btn.cancel}}</button>
            </div>
        </form>
    </li>
</ul>

<ul>
    <li data-template="communitiesPage">
        <div>
            <a href="#community/add"><i class="icon-add"><span>{{#btn.add}}</span></i></a>
            {{.:'frmSearch'}}
        </div>
        <ul data-register="myCommunityList"></ul>
    </li>

    <li data-template="communityAddPage">
        {{.:'addCommunity'}}
    </li>

    <li data-template="communityList">
        <ul>
            {{community@communities}}<li class="community">{{.:'communityListItem'}}</li>{{/community@communities}}
        </ul>
    </li>

    <li data-template="communityListItem">
        <a href="#community:{{id}}">{{name}}</a>
        <div class="statistics"><span class="value">{{topics}}</span><span class="label">{{#label.topics}}</span></div>
        <div class="statistics"><span class="value">{{members}} </span><span class="label">{{#label.members}}</span></div>
    </li>

    <li data-template="communityPage">
        <div class="community-header">
            <h2 class="community-name">{{communityName}}</h2>
            <div class="community-actions">
            {{?isMember}}
                <div class="member-name">{{memberName}}</div>
                <a href="#community:{{communityId}}/topic/add"><i class="icon-add"><span>{{#btn.add}}</span></i></a>
                <a href="#community:{{communityId}}/quit" data-register="btnLeave"><i class="icon-delete"><span>{{#btn.quit}}</span></i></a>
            {{/isMember}}
            {{?!isMember}}
                <a href="#community:{{communityId}}/join" data-register="btnJoin"><i class="icon-add"><span>{{#btn.join}}</span></i></a>
            {{/isMember}}
            </div>
        </div>
        <div>
            {{.:'frmSearch'}}
        </div>
        <ul data-register="communityTopicList"></ul>
    </li>

    <li data-template="communityJoinPage">
        <div class="community-header">
            <h2 class="community-name">{{communityName}}</h2>
        </div>
        <form class="join-community-form" data-register="frmJoinCommunity">
            <div>
                <label for="memberName" class="required">{{#label.communityJoinMemberName}}</label><input type="text" id="memberName" name="memberName" required="required" maxlength="100" placeholder="{{#placeholder.communityAddFounderName}}"/>
            </div>
            <div>
                <button>{{#btn.ok}}</button>
                <button data-register="btnCancel" >{{#btn.cancel}}</button>
            </div>
        </form>
    </li>

    <li data-template="addCommunity">
        <form class="add-community-form" data-register="frmAddCommunity">
            <div>
                <label for="communityName" class="required">{{#label.communityAddName}}</label><input type="text" id="communityName" name="communityName" required="required" maxlength="100" placeholder="{{#placeholder.communityName}}"/>
            </div>
            <div>
                <label for="communityDescription" class="required">{{#label.communityAddDescription}}</label><input type="text" id="communityDescription" name="communityDescription" placeholder="{{#placeholder.communityDescription}}"/>
            </div>
            <div>
                <label for="founderName" class="required">{{#label.communityAddFounderName}}</label><input type="text" id="founderName" name="founderName" required="required" maxlength="100" placeholder="{{#placeholder.communityAddFounderName}}"/>
            </div>
            <div>
                <button data-register="btnAddCommunity">{{#btn.ok}}</button>
                <button data-register="btnCancel" >{{#btn.cancel}}</button>
            </div>
        </form>
    </li>
</ul>

<ul>
    <li data-template="commentList">
        {{.:'frmMyComment'}}
        <ul>
            {{comment@comments}}<li id="comment_{{id}}" class="comment">{{.:commentListItem}}</li>{{/comment@comments}}
        </ul>
    </li>

    <li data-template="commentListItem">
        <div class="comment-content" data-type="comment" data-id="{{id}}">
            <div class="author-image" data-ico="me"></div>
            <div class="next-to-author-image">
                <div class="attribute author-name">{{author.name}}</div>
                <div class="content">{{content}}</div>
                <div class="info attributes">
                    <div class="attribute time" title="{{time}}">{{relativeTime}}</div>
                    <div class="attribute" data-ico="history"></div>
                    {{?isArchivable}}<div class="attribute" data-ico="trash-empty" data-register="archive"></div>{{/isArchivable}}
                </div>
                <div class="stats attributes">
                    <div class="attribute comment-count" data-ico="comment-empty" data-register="tglComment"><span id="opinion_{{id}}_comment_count" class="value">{{comments}}</span> comments</div>
                    <div class="attribute endorse-count" data-ico="heart-empty"><span id="opinion_{{id}}_endorse_count" class="value">{{endorse}}</span> endorsements</div>
                </div>
            </div>
            <div id="comment_{{id}}_comments_list" class="comments" data-role="comments" data-hidden="true"></div>
        </div>
    </li>

    <li data-template="frmMyComment">
        <form class="add-comment-form" data-register="frmAddComment">
            <input type="hidden" name="opinionId" id="opinionId" value="{{opinionId}}" />
            <input type="hidden" name="parentId" id="parentId" value="{{parentId}}" />
            <input type="hidden" name="commentId" id="commentId" value="{{commentId}}" />
            <div>
                <label for="commentContent" class="required"></label><input type="text" name="commentContent" id="commentContent" required="required" />
            </div>
            <div>
                <button data-register="btnAddSubmit"><span>{{#btn.ok}}</span></button>
            </div>
        </form>
    </li>
</ul>

</body>
</html>