function setMaxDigits(i){maxDigits=i,ZERO_ARRAY=Array(maxDigits);for(var t=0;ZERO_ARRAY.length>t;t++)ZERO_ARRAY[t]=0;bigZero=new BigInt,bigOne=new BigInt,bigOne.digits[0]=1}function BigInt(i){this.digits="boolean"==typeof i&&i===!0?null:ZERO_ARRAY.slice(0),this.isNeg=!1}function biFromDecimal(i){for(var t,e="-"==i.charAt(0),r=e?1:0;i.length>r&&"0"==i.charAt(r);)++r;if(r==i.length)t=new BigInt;else{var n=i.length-r,s=n%dpl10;for(0===s&&(s=dpl10),t=biFromNumber(Number(i.substr(r,s))),r+=s;i.length>r;)t=biAdd(biMultiply(t,lr10),biFromNumber(Number(i.substr(r,dpl10)))),r+=dpl10;t.isNeg=e}return t}function biCopy(i){var t=new BigInt(!0);return t.digits=i.digits.slice(0),t.isNeg=i.isNeg,t}function biFromNumber(i){var t=new BigInt;t.isNeg=0>i,i=Math.abs(i);for(var e=0;i>0;)t.digits[e++]=i&maxDigitVal,i>>=biRadixBits;return t}function reverseStr(i){for(var t="",e=i.length-1;e>-1;--e)t+=i.charAt(e);return t}function biToString(i,t){var e=new BigInt;e.digits[0]=t;for(var r=biDivideModulo(i,e),n=hexatrigesimalToChar[r[1].digits[0]];1==biCompare(r[0],bigZero);)r=biDivideModulo(r[0],e),digit=r[1].digits[0],n+=hexatrigesimalToChar[r[1].digits[0]];return(i.isNeg?"-":"")+reverseStr(n)}function biToDecimal(i){var t=new BigInt;t.digits[0]=10;for(var e=biDivideModulo(i,t),r=e[1].digits[0]+"";1==biCompare(e[0],bigZero);)e=biDivideModulo(e[0],t),r+=e[1].digits[0]+"";return(i.isNeg?"-":"")+reverseStr(r)}function digitToHex(t){var e=15,r="";for(i=0;4>i;++i)r+=hexToChar[t&e],t>>>=4;return reverseStr(r)}function biToHex(i){var t="";biHighIndex(i);for(var e=biHighIndex(i);e>-1;--e)t+=digitToHex(i.digits[e]);return t}function charToHex(i){var t,e=48,r=e+9,n=97,s=n+25,o=65,g=90;return t=i>=e&&r>=i?i-e:i>=o&&g>=i?10+i-o:i>=n&&s>=i?10+i-n:0}function hexToDigit(i){for(var t=0,e=Math.min(i.length,4),r=0;e>r;++r)t<<=4,t|=charToHex(i.charCodeAt(r));return t}function biFromHex(i){for(var t=new BigInt,e=i.length,r=e,n=0;r>0;r-=4,++n)t.digits[n]=hexToDigit(i.substr(Math.max(r-4,0),Math.min(r,4)));return t}function biFromString(i,t){var e="-"==i.charAt(0),r=e?1:0,n=new BigInt,s=new BigInt;s.digits[0]=1;for(var o=i.length-1;o>=r;o--){var g=i.charCodeAt(o),a=charToHex(g),d=biMultiplyDigit(s,a);n=biAdd(n,d),s=biMultiplyDigit(s,t)}return n.isNeg=e,n}function biDump(i){return(i.isNeg?"-":"")+i.digits.join(" ")}function biAdd(i,t){var e;if(i.isNeg!=t.isNeg)t.isNeg=!t.isNeg,e=biSubtract(i,t),t.isNeg=!t.isNeg;else{e=new BigInt;for(var r,n=0,s=0;i.digits.length>s;++s)r=i.digits[s]+t.digits[s]+n,e.digits[s]=65535&r,n=Number(r>=biRadix);e.isNeg=i.isNeg}return e}function biSubtract(i,t){var e;if(i.isNeg!=t.isNeg)t.isNeg=!t.isNeg,e=biAdd(i,t),t.isNeg=!t.isNeg;else{e=new BigInt;var r,n;n=0;for(var s=0;i.digits.length>s;++s)r=i.digits[s]-t.digits[s]+n,e.digits[s]=65535&r,0>e.digits[s]&&(e.digits[s]+=biRadix),n=0-Number(0>r);if(-1==n){for(n=0,s=0;i.digits.length>s;++s)r=0-e.digits[s]+n,e.digits[s]=65535&r,0>e.digits[s]&&(e.digits[s]+=biRadix),n=0-Number(0>r);e.isNeg=!i.isNeg}else e.isNeg=i.isNeg}return e}function biHighIndex(i){for(var t=i.digits.length-1;t>0&&0===i.digits[t];)--t;return t}function biNumBits(i){var t,e=biHighIndex(i),r=i.digits[e],n=(e+1)*bitsPerDigit;for(t=n;t>n-bitsPerDigit&&0===(32768&r);--t)r<<=1;return t}function biMultiply(i,t){for(var e,r,n,s=new BigInt,o=biHighIndex(i),g=biHighIndex(t),a=0;g>=a;++a){for(e=0,n=a,j=0;o>=j;++j,++n)r=s.digits[n]+i.digits[j]*t.digits[a]+e,s.digits[n]=r&maxDigitVal,e=r>>>biRadixBits;s.digits[a+o+1]=e}return s.isNeg=i.isNeg!=t.isNeg,s}function biMultiplyDigit(i,t){var e,r,n;result=new BigInt,e=biHighIndex(i),r=0;for(var s=0;e>=s;++s)n=result.digits[s]+i.digits[s]*t+r,result.digits[s]=n&maxDigitVal,r=n>>>biRadixBits;return result.digits[1+e]=r,result}function arrayCopy(i,t,e,r,n){for(var s=Math.min(t+n,i.length),o=t,g=r;s>o;++o,++g)e[g]=i[o]}function biShiftLeft(i,t){var e=Math.floor(t/bitsPerDigit),r=new BigInt;arrayCopy(i.digits,0,r.digits,e,r.digits.length-e);for(var n=t%bitsPerDigit,s=bitsPerDigit-n,o=r.digits.length-1,g=o-1;o>0;--o,--g)r.digits[o]=r.digits[o]<<n&maxDigitVal|(r.digits[g]&highBitMasks[n])>>>s;return r.digits[0]=r.digits[o]<<n&maxDigitVal,r.isNeg=i.isNeg,r}function biShiftRight(i,t){var e=Math.floor(t/bitsPerDigit),r=new BigInt;arrayCopy(i.digits,e,r.digits,0,i.digits.length-e);for(var n=t%bitsPerDigit,s=bitsPerDigit-n,o=0,g=o+1;r.digits.length-1>o;++o,++g)r.digits[o]=r.digits[o]>>>n|(r.digits[g]&lowBitMasks[n])<<s;return r.digits[r.digits.length-1]>>>=n,r.isNeg=i.isNeg,r}function biMultiplyByRadixPower(i,t){var e=new BigInt;return arrayCopy(i.digits,0,e.digits,t,e.digits.length-t),e}function biDivideByRadixPower(i,t){var e=new BigInt;return arrayCopy(i.digits,t,e.digits,0,e.digits.length-t),e}function biModuloByRadixPower(i,t){var e=new BigInt;return arrayCopy(i.digits,0,e.digits,0,t),e}function biCompare(i,t){if(i.isNeg!=t.isNeg)return 1-2*Number(i.isNeg);for(var e=i.digits.length-1;e>=0;--e)if(i.digits[e]!=t.digits[e])return i.isNeg?1-2*Number(i.digits[e]>t.digits[e]):1-2*Number(i.digits[e]<t.digits[e]);return 0}function biDivideModulo(i,t){var e,r,n=biNumBits(i),s=biNumBits(t),o=t.isNeg;if(s>n)return i.isNeg?(e=biCopy(bigOne),e.isNeg=!t.isNeg,i.isNeg=!1,t.isNeg=!1,r=biSubtract(t,i),i.isNeg=!0,t.isNeg=o):(e=new BigInt,r=biCopy(i)),[e,r];e=new BigInt,r=i;for(var g=Math.ceil(s/bitsPerDigit)-1,a=0;biHalfRadix>t.digits[g];)t=biShiftLeft(t,1),++a,++s,g=Math.ceil(s/bitsPerDigit)-1;r=biShiftLeft(r,a),n+=a;for(var d=Math.ceil(n/bitsPerDigit)-1,u=biMultiplyByRadixPower(t,d-g);-1!=biCompare(r,u);)++e.digits[d-g],r=biSubtract(r,u);for(var l=d;l>g;--l){var h=l>=r.digits.length?0:r.digits[l],f=l-1>=r.digits.length?0:r.digits[l-1],c=l-2>=r.digits.length?0:r.digits[l-2],b=g>=t.digits.length?0:t.digits[g],m=g-1>=t.digits.length?0:t.digits[g-1];e.digits[l-g-1]=h==b?maxDigitVal:Math.floor((h*biRadix+f)/b);for(var v=e.digits[l-g-1]*(b*biRadix+m),p=h*biRadixSquared+(f*biRadix+c);v>p;)--e.digits[l-g-1],v=e.digits[l-g-1]*(b*biRadix|m),p=h*biRadix*biRadix+(f*biRadix+c);u=biMultiplyByRadixPower(t,l-g-1),r=biSubtract(r,biMultiplyDigit(u,e.digits[l-g-1])),r.isNeg&&(r=biAdd(r,u),--e.digits[l-g-1])}return r=biShiftRight(r,a),e.isNeg=i.isNeg!=o,i.isNeg&&(e=o?biAdd(e,bigOne):biSubtract(e,bigOne),t=biShiftRight(t,a),r=biSubtract(t,r)),0===r.digits[0]&&0===biHighIndex(r)&&(r.isNeg=!1),[e,r]}function biDivide(i,t){return biDivideModulo(i,t)[0]}function biModulo(i,t){return biDivideModulo(i,t)[1]}function biMultiplyMod(i,t,e){return biModulo(biMultiply(i,t),e)}function biPow(i,t){for(var e=bigOne,r=i;;){if(0!==(1&t)&&(e=biMultiply(e,r)),t>>=1,0===t)break;r=biMultiply(r,r)}return e}function biPowMod(i,t,e){for(var r=bigOne,n=i,s=t;;){if(0!==(1&s.digits[0])&&(r=biMultiplyMod(r,n,e)),s=biShiftRight(s,1),0===s.digits[0]&&0===biHighIndex(s))break;n=biMultiplyMod(n,n,e)}return r}function BarrettMu(i){this.modulus=biCopy(i),this.k=biHighIndex(this.modulus)+1;var t=new BigInt;t.digits[2*this.k]=1,this.mu=biDivide(t,this.modulus),this.bkplus1=new BigInt,this.bkplus1.digits[this.k+1]=1,this.modulo=BarrettMu_modulo,this.multiplyMod=BarrettMu_multiplyMod,this.powMod=BarrettMu_powMod}function BarrettMu_modulo(i){var t=biDivideByRadixPower(i,this.k-1),e=biMultiply(t,this.mu),r=biDivideByRadixPower(e,this.k+1),n=biModuloByRadixPower(i,this.k+1),s=biMultiply(r,this.modulus),o=biModuloByRadixPower(s,this.k+1),g=biSubtract(n,o);g.isNeg&&(g=biAdd(g,this.bkplus1));for(var a=biCompare(g,this.modulus)>=0;a;)g=biSubtract(g,this.modulus),a=biCompare(g,this.modulus)>=0;return g}function BarrettMu_multiplyMod(i,t){var e=biMultiply(i,t);return this.modulo(e)}function BarrettMu_powMod(i,t){var e=new BigInt;e.digits[0]=1;for(var r=i,n=t;;){if(0!==(1&n.digits[0])&&(e=this.multiplyMod(e,r)),n=biShiftRight(n,1),0===n.digits[0]&&0===biHighIndex(n))break;r=this.multiplyMod(r,r)}return e}function RSAKeyPair(i,t,e){this.e=biFromHex(i),this.d=biFromHex(t),this.m=biFromHex(e),this.chunkSize=2*biHighIndex(this.m),this.radix=16,this.barrett=new BarrettMu(this.m)}function twoDigit(i){return(10>i?"0":"")+(i+"")}function encryptedString(i,t){for(var e=[],r=t.length,n=0;r>n;)e[n]=t.charCodeAt(n),n++;for(;0!==e.length%i.chunkSize;)e[n++]=0;var s,o,g,a=e.length,d="";for(n=0;a>n;n+=i.chunkSize){for(g=new BigInt,s=0,o=n;n+i.chunkSize>o;++s)g.digits[s]=e[o++],g.digits[s]+=e[o++]<<8;var u=i.barrett.powMod(g,i.e),l=16==i.radix?biToHex(u):biToString(u,i.radix);d+=l+" "}return d.substring(0,d.length-1)}function decryptedString(i,t){var e,r,n,s=t.split(" "),o="";for(e=0;s.length>e;++e){var g;for(g=16==i.radix?biFromHex(s[e]):biFromString(s[e],i.radix),n=i.barrett.powMod(g,i.d),r=0;biHighIndex(n)>=r;++r)o+=String.fromCharCode(255&n.digits[r],n.digits[r]>>8)}return 0===o.charCodeAt(o.length-1)&&(o=o.substring(0,o.length-1)),o}(function(){if("undefined"!=typeof exports){var t=require("crypto");(function(){function t(i){_=i,F=Array(_);for(var t=0;F.length>t;t++)F[t]=0;O=new e,E=new e,E.digits[0]=1}function e(i){this.digits="boolean"==typeof i&&i===!0?null:F.slice(0),this.isNeg=!1}function r(i){var t=new e(!0);return t.digits=i.digits.slice(0),t.isNeg=i.isNeg,t}function n(i){var t=new e;t.isNeg=0>i,i=Math.abs(i);for(var r=0;i>0;)t.digits[r++]=i&K,i>>=biRadixBits;return t}function s(i){for(var t="",e=i.length-1;e>-1;--e)t+=i.charAt(e);return t}function o(i,t){var r=new e;r.digits[0]=t;for(var n=k(i,r),o=L[n[1].digits[0]];1==S(n[0],O);)n=k(n[0],r),digit=n[1].digits[0],o+=L[n[1].digits[0]];return(i.isNeg?"-":"")+s(o)}function g(t){var e=15,r="";for(i=0;4>i;++i)r+=W[t&e],t>>>=4;return s(r)}function a(i){var t="";b(i);for(var e=b(i);e>-1;--e)t+=g(i.digits[e]);return t}function d(i){var t,e=48,r=e+9,n=97,s=n+25,o=65,g=90;return t=i>=e&&r>=i?i-e:i>=o&&g>=i?10+i-o:i>=n&&s>=i?10+i-n:0}function u(i){for(var t=0,e=Math.min(i.length,4),r=0;e>r;++r)t<<=4,t|=d(i.charCodeAt(r));return t}function l(i){for(var t=new e,r=i.length,n=r,s=0;n>0;n-=4,++s)t.digits[s]=u(i.substr(Math.max(n-4,0),Math.min(n,4)));return t}function h(i,t){var r="-"==i.charAt(0),n=r?1:0,s=new e,o=new e;o.digits[0]=1;for(var g=i.length-1;g>=n;g--){var a=i.charCodeAt(g),u=d(a),l=p(o,u);s=f(s,l),o=p(o,t)}return s.isNeg=r,s}function f(i,t){var r;if(i.isNeg!=t.isNeg)t.isNeg=!t.isNeg,r=c(i,t),t.isNeg=!t.isNeg;else{r=new e;for(var n,s=0,o=0;i.digits.length>o;++o)n=i.digits[o]+t.digits[o]+s,r.digits[o]=65535&n,s=Number(n>=V);r.isNeg=i.isNeg}return r}function c(i,t){var r;if(i.isNeg!=t.isNeg)t.isNeg=!t.isNeg,r=f(i,t),t.isNeg=!t.isNeg;else{r=new e;var n,s;s=0;for(var o=0;i.digits.length>o;++o)n=i.digits[o]-t.digits[o]+s,r.digits[o]=65535&n,0>r.digits[o]&&(r.digits[o]+=V),s=0-Number(0>n);if(-1==s){for(s=0,o=0;i.digits.length>o;++o)n=0-r.digits[o]+s,r.digits[o]=65535&n,0>r.digits[o]&&(r.digits[o]+=V),s=0-Number(0>n);r.isNeg=!i.isNeg}else r.isNeg=i.isNeg}return r}function b(i){for(var t=i.digits.length-1;t>0&&0===i.digits[t];)--t;return t}function m(i){var t,e=b(i),r=i.digits[e],n=(e+1)*z;for(t=n;t>n-z&&0===(32768&r);--t)r<<=1;return t}function v(i,t){for(var r,n,s,o=new e,g=b(i),a=b(t),d=0;a>=d;++d){for(r=0,s=d,j=0;g>=j;++j,++s)n=o.digits[s]+i.digits[j]*t.digits[d]+r,o.digits[s]=n&K,r=n>>>biRadixBits;o.digits[d+g+1]=r}return o.isNeg=i.isNeg!=t.isNeg,o}function p(i,t){var r,n,s;result=new e,r=b(i),n=0;for(var o=0;r>=o;++o)s=result.digits[o]+i.digits[o]*t+n,result.digits[o]=s&K,n=s>>>biRadixBits;return result.digits[1+r]=n,result}function x(i,t,e,r,n){for(var s=Math.min(t+n,i.length),o=t,g=r;s>o;++o,++g)e[g]=i[o]}function N(i,t){var r=Math.floor(t/z),n=new e;x(i.digits,0,n.digits,r,n.digits.length-r);for(var s=t%z,o=z-s,g=n.digits.length-1,a=g-1;g>0;--g,--a)n.digits[g]=n.digits[g]<<s&K|(n.digits[a]&Y[s])>>>o;return n.digits[0]=n.digits[g]<<s&K,n.isNeg=i.isNeg,n}function y(i,t){var r=Math.floor(t/z),n=new e;x(i.digits,r,n.digits,0,i.digits.length-r);for(var s=t%z,o=z-s,g=0,a=g+1;n.digits.length-1>g;++g,++a)n.digits[g]=n.digits[g]>>>s|(n.digits[a]&X[s])<<o;return n.digits[n.digits.length-1]>>>=s,n.isNeg=i.isNeg,n}function w(i,t){var r=new e;return x(i.digits,0,r.digits,t,r.digits.length-t),r}function M(i,t){var r=new e;return x(i.digits,t,r.digits,0,r.digits.length-t),r}function R(i,t){var r=new e;return x(i.digits,0,r.digits,0,t),r}function S(i,t){if(i.isNeg!=t.isNeg)return 1-2*Number(i.isNeg);for(var e=i.digits.length-1;e>=0;--e)if(i.digits[e]!=t.digits[e])return i.isNeg?1-2*Number(i.digits[e]>t.digits[e]):1-2*Number(i.digits[e]<t.digits[e]);return 0}function k(i,t){var n,s,o=m(i),g=m(t),a=t.isNeg;if(g>o)return i.isNeg?(n=r(E),n.isNeg=!t.isNeg,i.isNeg=!1,t.isNeg=!1,s=c(t,i),i.isNeg=!0,t.isNeg=a):(n=new e,s=r(i)),[n,s];n=new e,s=i;for(var d=Math.ceil(g/z)-1,u=0;Z>t.digits[d];)t=N(t,1),++u,++g,d=Math.ceil(g/z)-1;s=N(s,u),o+=u;for(var l=Math.ceil(o/z)-1,h=w(t,l-d);-1!=S(s,h);)++n.digits[l-d],s=c(s,h);for(var v=l;v>d;--v){var x=v>=s.digits.length?0:s.digits[v],M=v-1>=s.digits.length?0:s.digits[v-1],R=v-2>=s.digits.length?0:s.digits[v-2],k=d>=t.digits.length?0:t.digits[d],B=d-1>=t.digits.length?0:t.digits[d-1];n.digits[v-d-1]=x==k?K:Math.floor((x*V+M)/k);for(var D=n.digits[v-d-1]*(k*V+B),A=x*q+(M*V+R);D>A;)--n.digits[v-d-1],D=n.digits[v-d-1]*(k*V|B),A=x*V*V+(M*V+R);h=w(t,v-d-1),s=c(s,p(h,n.digits[v-d-1])),s.isNeg&&(s=f(s,h),--n.digits[v-d-1])}return s=y(s,u),n.isNeg=i.isNeg!=a,i.isNeg&&(n=a?f(n,E):c(n,E),t=y(t,u),s=c(t,s)),0===s.digits[0]&&0===b(s)&&(s.isNeg=!1),[n,s]}function B(i,t){return k(i,t)[0]}function D(i){this.modulus=r(i),this.k=b(this.modulus)+1;var t=new e;t.digits[2*this.k]=1,this.mu=B(t,this.modulus),this.bkplus1=new e,this.bkplus1.digits[this.k+1]=1,this.modulo=A,this.multiplyMod=I,this.powMod=C}function A(i){var t=M(i,this.k-1),e=v(t,this.mu),r=M(e,this.k+1),n=R(i,this.k+1),s=v(r,this.modulus),o=R(s,this.k+1),g=c(n,o);g.isNeg&&(g=f(g,this.bkplus1));for(var a=S(g,this.modulus)>=0;a;)g=c(g,this.modulus),a=S(g,this.modulus)>=0;return g}function I(i,t){var e=v(i,t);return this.modulo(e)}function C(i,t){var r=new e;r.digits[0]=1;for(var n=i,s=t;;){if(0!==(1&s.digits[0])&&(r=this.multiplyMod(r,n)),s=y(s,1),0===s.digits[0]&&0===b(s))break;n=this.multiplyMod(n,n)}return r}function H(i,t,e){this.e=l(i),this.d=l(t),this.m=l(e),this.chunkSize=2*b(this.m),this.radix=16,this.barrett=new D(this.m)}function P(i,t){for(var r=[],n=t.length,s=0;n>s;)r[s]=t.charCodeAt(s),s++;for(;0!==r.length%i.chunkSize;)r[s++]=0;var g,d,u,l=r.length,h="";for(s=0;l>s;s+=i.chunkSize){for(u=new e,g=0,d=s;s+i.chunkSize>d;++g)u.digits[g]=r[d++],u.digits[g]+=r[d++]<<8;var f=i.barrett.powMod(u,i.e),c=16==i.radix?a(f):o(f,i.radix);h+=c+" "}return h.substring(0,h.length-1)}function T(i,t){var e,r,n,s=t.split(" "),o="";for(e=0;s.length>e;++e){var g;for(g=16==i.radix?l(s[e]):h(s[e],i.radix),n=i.barrett.powMod(g,i.d),r=0;b(n)>=r;++r)o+=String.fromCharCode(255&n.digits[r],n.digits[r]>>8)}return 0===o.charCodeAt(o.length-1)&&(o=o.substring(0,o.length-1)),o}var _,F,O,E,z=biRadixBits=16,V=65536,Z=V>>>1,q=V*V,K=V-1;t(20),n(1e15);var L=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],W=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],Y=[0,32768,49152,57344,61440,63488,64512,65024,65280,65408,65472,65504,65520,65528,65532,65534,65535],X=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];exports.generateKey=function(i,t,e){return{key:new H(i,t,e),encrypt:function(i){return P(this.key,i)},decrypt:function(i){return T(this.key,i)}}}})(),e=function e(){return{rsaKeys:{},init:function(i){var t=i("application_name",!0);return this.rsaKeys=exports.generateKey(i(t+"_RSA_ENCRYPT",!0),i(t+"_RSA_DECRYPT",!0),i(t+"_RSA_MODULUS",!0)),this},encrypt:function(i){return t.createHash("md5").update(i).digest("hex")},rsaEncrypt:function(i){return this.rsaKeys.encrypt(i)},rsaDecrypt:function(i){return this.rsaKeys.decrypt(i)}}}(),exports.init=e.init.bind(e),exports.encrypt=e.encrypt.bind(e),exports.rsaEncrypt=e.rsaEncrypt.bind(e),exports.rsaDecrypt=e.rsaDecrypt.bind(e)}})(),window.onError=function(){return function(i,t,e){console.error("JavaScript error: "+i+" on line "+e+" for "+t)}}();var ExternalWindow=function(){var i=function(){return{open:function(i,t){return this.callback=t,this.externalWindow=window.open(i),this.externalWindow},callback:function(i){this.externalWindow?(this.externalWindow.close(),this.externalWindow=null):console.error("no this.externalWindow?! how you go here?"),this.callback(i)},windowCallback:function(i){i.error===void 0?window.opener?(window.opener.ExternalWindow.callback(i),window.close()):location.href=location.href.substr(0,location.href.indexOf("?")):XSLT.transform($("#messages"),{message:{"@type":"error",message:error}})}}}();return i}(),FormGrabber=function(){var i=function(){return{get:function(i){var t=i.elements,e={};for(var r in t){var n=t[r];n.name&&(e[n.name]="checkbox"==n.type?n.checked:n.value)}return e}}}();return i}(),PrettyDate=function(){var i=function(){return{pretty:function(i){var t=new Date(i||""),e=((new Date).getTime()-t.getTime())/1e3,r=Math.floor(e/86400);return isNaN(r)||0>r||r>=31?i:0===r&&(60>e&&"just-now"||120>e&&"a-minute-ago"||240>e&&"two-minutes-ago"||900>e&&Math.floor(e/60)+"-minutes-ago"||1800>e&&"quarter-of-an-hour-ago"||2400>e&&"half-of-an-hour-ago"||3600>e&&Math.floor(e/60)+"-minutes-ago"||7200>e&&"an-hour-ago"||1440>e&&"two-hours-ago"||86400>e&&Math.floor(e/3600)+"-hours-ago")||1==r&&"yesterday"||2==r&&"two-days-ago"||7>r&&r+"-days-ago"||14>r&&"a-week-ago"||21>r&&"two-weeks-ago"||31>r&&Math.ceil(r/7)+"-weeks-ago"},normal:function(i){var t=new Date(i);return("0"+(t.getDate()+1)).slice(-2)+"/"+("0"+(t.getMonth()+1)).slice(-2)+"/"+t.getFullYear()+", "+("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)},render:function(i){var t=!1,e={};return i&&"undfined"!=typeof i&&(e.timestamp=i,e.formatted=this.normal(i),t=this.pretty(i),t!==i&&(e.pattern=t.replace(/(\d)+/g,"#"),e.patternValue=Number(t.replace(/\D/g,"")))),e}}}();return"undefined"!=typeof exports&&(exports.renderer=i.render.bind(i)),i}(),bitsPerDigit=biRadixBits=16,biRadix=65536,biHalfRadix=biRadix>>>1,biRadixSquared=biRadix*biRadix,maxDigitVal=biRadix-1,maxDigits,ZERO_ARRAY,bigZero,bigOne;setMaxDigits(20);var dpl10=15,lr10=biFromNumber(1e15),hexatrigesimalToChar=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],hexToChar=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],highBitMasks=[0,32768,49152,57344,61440,63488,64512,65024,65280,65408,65472,65504,65520,65528,65532,65534,65535],lowBitMasks=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];"undefined"!=typeof exports&&(exports.generateKey=function(i){return{key:new RSAKeyPair(i.encryption,i.decryption,i.modulus),test:function(){return this.key.radix},encrypt:function(i){return encryptedString(this.key,i)},decrypt:function(i){return decryptedString(this.key,i)}}});var XSLT=function(){var i=function(){return{uiVersion:"?",templateFolder:!1,useLocalStorage:!1,json2xmlEngine:function(i,t,e){var r,n,s=["undefined","function"],o="",g="";if(i&&i.toJSON&&"function"==typeof i.toJSON&&(i=i.toJSON()),i instanceof Array)for(var a=0,d=i.length;d>a;a++)o+=e+this.json2xmlEngine(i[a],t,e+"	")+"\n";else if("object"==typeof i){o+="\n"+e+"<"+t;for(n in i)"@"==n.charAt(0)?o+=" "+n.substr(1)+'="'+(""+i[n])+'"':(r=i[n],-1==s.indexOf(typeof r)&&(g+="#text"==n?r:"#cdata"==n?"<![CDATA["+r+"]]>":this.json2xmlEngine(r,n,e+"	")));o+=g.length?">"+g+"</"+t+">":"/>"}else o+="\n"+e+("<"+t+">"+(""+i)+"</"+t+">");return o},json2xml:function(i,t){var e="";for(var r in i)e+=this.json2xmlEngine(i[r],r,"");return t?e.replace(/\t/g,t):e.replace(/\t|\n/g,"")}}}();return"undefined"!=typeof exports?(i.engine=require("node_xslt"),i.cheerio=require("cheerio"),i.transform=function(t){try{"object"==typeof t&&(t.app&&(t.app["@version"]=this.uiVersion),t=this.json2xml(t));var e=this.engine.readXsltFile(this.templateFolder+"/xslt/default.xsl"),r=this.engine.readXmlString("<xml>"+t+"</xml>"),n=this.engine.transform(e,r,["language","'hebrew'"]),s=i.cheerio.load(n);return s("#plugins").children().each(function(i,t){try{var e=s(this).attr("class").match(/reposition-(\w*)-([\w\d\-_]*)/);if(e){var r=e[1],n=s("#"+e[2]);if("null"!=n.html())switch(r){case"before":n.before(t);break;case"prepend":n.prepend(t);break;case"append":n.append(t);break;case"after":n.after(t)}}}catch(o){console.error("failed to reposition item #"+i+":"+s(this).html())}}),s.html()}catch(o){return console.error("failed to xslt "+("object"==typeof t?this.json2xml(t):t)+"\n"+o),""}},i.init=function(t,e){if("string"!=typeof t)throw{message:"xslt-must-have-templateFolder"};return i.templateFolder=t,i.uiVersion=e,i.transform.bind(i)},exports.init=i.init):($.getScript("/lib/jquery.transform.js",function(){}),i.transform=function(i,t,e){var r={async:!1,xslCache:!0,xmlstr:"<xml>"+("string"==typeof t?t:this.json2xml(t))+"</xml>",xsl:"/ui/xslt/default.xsl",success:e,error:function(i){console.error("error transforming "+i)}};this.useLocalStorage?r.xslstr=localStorage.getItem("default.xsl"):r.xsl="/ui/xslt/default.xsl",(i?$(i):$).transform()},i.preloadXSLT=function(i){function t(i,e){var r={};$.ajax({cache:"true",dataType:"text",url:"/ui/xslt/"+i,success:function(n){localStorage.setItem(i,n);var s=n.match(/<xsl:import href="([a-zA-Z0-9\-_.]+)" \/>/g);if(s&&s.length){r[i]=s.length;var o=function o(){r[i]--,r[i]||e()};for(var g in s)t(s[g].match(/"([a-zA-Z0-9\-_.]+)"/)[0].replace(/"/g,""),o)}else e()}})}t("default.xsl",i)}),i}();